(this.webpackJsonpcrudredux=this.webpackJsonpcrudredux||[]).push([[0],{240:function(e,t,n){e.exports=n(271)},245:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(245),n(34)),l=n(12),u=n(296),s=n(298),d=n(300),p=n(301),m=Object(u.a)((function(e){return{appBar:{position:"fixed"},text:{textDecoration:"none",color:"white"}}})),f=function(){var e=m();return r.a.createElement(a.Fragment,null,r.a.createElement(s.a,{position:"static",className:e.appBar},r.a.createElement(d.a,{variant:"dense"},r.a.createElement(p.a,{variant:"h6"},r.a.createElement(i.b,{to:"/",className:e.text},"CRUD - React, Redux, REST API & Axios")))))},g=n(316),E=n(229),O=n(8),b="#FFFFFF",v={black:"#000000",white:b,primary:{contrastText:b,dark:O.a.indigo[900],main:O.a.indigo[500],light:O.a.indigo[100]},secondary:{contrastText:b,dark:O.a.blue[900],main:O.a.blue.A400,light:O.a.blue.A400},success:{contrastText:b,dark:O.a.green[900],main:O.a.green[600],light:O.a.green[400]},info:{contrastText:b,dark:O.a.blue[900],main:O.a.blue[600],light:O.a.blue[400]},warning:{contrastText:b,dark:O.a.orange[900],main:O.a.orange[600],light:O.a.orange[400]},error:{contrastText:b,dark:O.a.red[900],main:O.a.red[600],light:O.a.red[400]},text:{primary:O.a.blueGrey[900],secondary:O.a.blueGrey[600],link:O.a.blue[600]},background:{default:"#F4F6F8",paper:b},icon:O.a.blueGrey[600],divider:O.a.grey[200]},R=Object(E.a)({palette:v}),h=n(17),y=n(304),T=n(305),C=n(302),x=n(321),A=n(317),_=n(306),j=n(231),w=n(307),P=n(308),D=n(309),N=n(310),I=n(320),S=n(318),k=n(303),U=n(56),B=n(223),G=n.n(B),L=n(222),W=n.n(L),F=n(58),X=n.n(F),M=n(16),H=n(33),V=n.n(H),$=n(221),q=n.n($).a.create({baseURL:"http://localhost:4000"});var z=function(){return{type:"AGREGAR_PRODUCTO",payload:!0}},Z=function(e){return{type:"AGREGAR_PRODUCTO_EXITO",payload:e}},J=function(e){return{type:"AGREGAR_PRODUCTO_ERROR",payload:e}};var K=function(){return{type:" COMENZAR_DESCARGA_PRODUCTOS",payload:!0}},Q=function(e){return{type:" DESCARGA_PRODUCTOS_EXITO",payload:e}},Y=function(){return{type:" DESCARGA_PRODUCTOS_ERROR",payload:!0}};var ee=function(e){return{type:"OBTENER_PRODUCTO_ELIMINAR",payload:e}},te=function(){return{type:"PRODUCTO_ELIMINAR_EXITO"}},ne=function(){return{type:"PRODUCTO_ELIMINAR_ERROR",payload:!0}};var ae=function(e){return{type:"OBTENER_PRODUCTO_EDITAR",payload:e}};var re=function(){return{type:"COMENZAR_EDICION_PRODUCTO"}},oe=function(e){return{type:"PRODUCTO_EDITADO_EXITO",payload:e}},ce=function(){return{type:"PRODUCTO_EDITADO_ERROR",payload:!0}},ie=Object(u.a)((function(e){return{icon:{paddingTop:0,paddingBottom:0,"&:hover":{backgroundColor:"transparent"}}}})),le=function(e){var t=e.producto,n=t.nombre,o=t.precio,c=t.id,i=Object(M.b)(),u=Object(l.f)(),s=function(e){X.a.fire({title:"Desea eliminar el Producto?",text:"Estas seguro que desea eliminarlo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si deseo eliminarlo!",cancelButtonText:"Cancelar "}).then((function(t){t.value&&i(function(e){return function(t){return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(ee(e)),n.prev=1,n.next=4,V.a.awrap(q.delete("/productos/".concat(e)));case 4:t(te()),X.a.fire("Eliminado!","Tu producto ha sido eliminado ","succes"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),t(ne());case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}(e))}))},d=function(e){i(function(e){return function(t){t(ae(e))}}(e)),u.push("/productos/editar/".concat(e.id))},p=ie();return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,{align:"left"},r.a.createElement(k.a,{className:p.icon,component:"span",onClick:function(){return d(t)},size:"small","aria-label":"edit"},r.a.createElement(W.a,null)),r.a.createElement(k.a,{className:p.icon,onClick:function(){return s(c)},size:"small",component:"span","aria-label":"delete"},r.a.createElement(G.a,null))),r.a.createElement(C.a,{component:"th",align:"left"},n),r.a.createElement(C.a,{align:"right"},r.a.createElement(U.a,{value:o,displayType:"text",thousandSeparator:!0,prefix:"$"})))},ue=n(224),se=n.n(ue),de=function(){return r.a.createElement(A.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(se.a,null),r.a.createElement(p.a,{variant:"h5"},"No hay Productos registrados!"))},pe=n(225),me=n.n(pe);function fe(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var ge=[{id:"accion",label:"Accion"},{id:"nombre",numeric:!1,label:"Nombre"},{id:"precio",numeric:!0,label:"Precio"}];function Ee(e){var t=e.classes,n=e.order,a=e.orderBy,o=e.onRequestSort;return r.a.createElement(y.a,null,r.a.createElement(T.a,{style:{height:"56px"}},ge.map((function(e){return r.a.createElement(C.a,{key:e.id,sortDirection:a===e.id&&n,align:e.numeric?"right":"left",style:{fontWeight:[600]}},r.a.createElement(x.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){o(e,c)})},e.label,a===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var c}))))}var Oe=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column"},error:{marginTop:e.spacing(3)},titulo:{textAlign:"center",marginTop:e.spacing(8),marginBottom:e.spacing(2)},boton:{marginBottom:e.spacing(2),justifyContent:"flexEnd",backgroundColor:e.palette.secondary.main,color:e.palette.white,"&:hover":{backgroundColor:e.palette.secondary.light}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},paper:{marginBottom:e.spacing(2)},progress:{margin:e.spacing(2),width:"100%"}}})),be=function(e){var t=Object(M.b)(),n=Oe(),o=Object(a.useState)("asc"),c=Object(h.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)("precio"),d=Object(h.a)(s,2),m=d[0],f=d[1],g=Object(a.useState)(0),E=Object(h.a)(g,2),O=E[0],b=E[1],v=Object(a.useState)(5),R=Object(h.a)(v,2),y=R[0],C=R[1];Object(a.useEffect)((function(){t((function(e){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e(K()),n.prev=1,n.next=4,V.a.awrap(q.get("/productos"));case 4:t=n.sent,e(Q(t.data)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),e(Y());case 12:case"end":return n.stop()}}),null,null,[[1,8]])}))}),[]);var x=Object(M.c)((function(e){return e.productos.productos})),k=Object(M.c)((function(e){return e.productos.error})),U=Object(M.c)((function(e){return e.productos.loading}));return r.a.createElement("div",{className:n.root},r.a.createElement(p.a,{variant:"h4",className:n.titulo},"Listado de Productos"),r.a.createElement(A.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(_.a,{variant:"contained",disableElevation:!0,component:i.b,to:"/productos/nuevo",startIcon:r.a.createElement(me.a,null),className:n.boton},"Agregar Nuevo")),r.a.createElement(j.a,{className:n.paper},r.a.createElement(w.a,{className:n.contained},r.a.createElement(P.a,{className:n.table,size:"medium","aria-label":"enhanced table"},r.a.createElement(Ee,{classes:n,order:l,orderBy:m,onRequestSort:function(e,t){u(m===t&&"asc"===l?"desc":"asc"),f(t)}}),U?r.a.createElement("div",{className:n.progress}," ",r.a.createElement(D.a,null)," "):null,r.a.createElement(N.a,null,0===x.length?r.a.createElement(de,null):function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(x,function(e,t){return"desc"===e?function(e,n){return fe(e,n,t)}:function(e,n){return-fe(e,n,t)}}(l,m)).slice(O*y,O*y+y).map((function(e){return r.a.createElement(T.a,{hover:!0},r.a.createElement(le,{key:e.id,producto:e}))}))))),r.a.createElement(I.a,{labelRowsPerPage:"Columnas Por Paginas: ",rowsPerPageOptions:[5,10,25],component:"div",count:x.length,rowsPerPage:y,page:O,onChangePage:function(e,t){b(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),b(0)},labelDisplayedRows:function(e){var t=e.from,n=e.to,a=e.count;return"Pagina ".concat(t,"-").concat(n," de ").concat(a," Paginas")}})),k?r.a.createElement(S.a,{severity:"error",className:n.error},"Hubo un error en la conexion!"):null)},ve=n(2),Re=n(314),he=n(315),ye=n(319),Te=n(85),Ce=n.n(Te);var xe=function(e){return{type:"MOSTRAR_ALERTA",payload:e}};var Ae=function(){return{type:"OCULTAR_ALERTA"}},_e=Object(u.a)((function(e){return{error:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}));function je(e){var t=e.inputRef,n=e.onChange,a=Object(ve.a)(e,["inputRef","onChange"]);return r.a.createElement(U.a,Object.assign({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))}var we=function(e){var t=e.history,n=Object(a.useState)(""),o=Object(h.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(null),u=Object(h.a)(l,2),s=u[0],d=u[1],m=Object(M.b)(),f=Object(M.c)((function(e){return e.productos.loading})),g=Object(M.c)((function(e){return e.productos.error})),E=Object(M.c)((function(e){return e.alerta.alerta})),O=function(e){return m(function(e){return function(t){return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(z()),n.prev=1,n.next=4,V.a.awrap(q.post("/productos",e));case 4:t(Z(e)),X.a.fire("Correcto","El producto se agrego correctamente","success"),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),t(J(!0)),X.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo."});case 13:case"end":return n.stop()}}),null,null,[[1,8]])}}(e))},b=_e();return r.a.createElement(j.a,{style:{marginTop:"50px"}},r.a.createElement(p.a,{variant:"h5",style:{textAlign:"center",padding:"20px"}},"Agregar Nuevo Producto"),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim||s<=0){m(function(e){return function(t){t(xe(e))}}({msg:"Ambos campos son obligatorios"}))}else m((function(e){e(Ae())})),O({nombre:c,precio:s,id:Object(ye.a)()}),t.push("/")}},r.a.createElement("div",{style:{padding:"40px"}},E?r.a.createElement(S.a,{severity:"warning",className:b.error},"Todo los campos son obligatorios!"):null,r.a.createElement(Re.a,{style:{marginBottom:"30px"},fullWidth:!0,name:"nombre",label:"Nombre Producto",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement(Re.a,{style:{marginBottom:"30px"},fullWidth:!0,name:"precio",label:"Precio del Producto",value:s,onChange:function(e){return d(Number(e.target.value))},InputProps:{inputComponent:je}}),r.a.createElement(A.a,{display:"flex",justifyContent:"center"},r.a.createElement(_.a,{startIcon:r.a.createElement(Ce.a,null),style:{alignItem:"center"},type:"submit",variant:"contained",color:"secondary"},"Guardar")))),f?r.a.createElement(he.a,null):null,r.a.createElement("div",null),g?r.a.createElement(S.a,{severity:"error",className:b.error},"Hubo un error en la conexion!"):null)},Pe=n(14),De=n(19),Ne=function(e){var t=e.inputRef,n=e.onChange,a=Object(ve.a)(e,["inputRef","onChange"]);return r.a.createElement(U.a,Object.assign({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))},Ie=function(){var e=Object(l.f)(),t=Object(M.b)(),n=Object(a.useState)({nombre:"",precio:""}),o=Object(h.a)(n,2),c=o[0],i=o[1],u=Object(M.c)((function(e){return e.productos.productoeditar}));Object(a.useEffect)((function(){i(u)}),[u]);var s=function(e){i(Object(De.a)({},c,Object(Pe.a)({},e.target.name,e.target.value)))},d=c.nombre,m=c.precio;return r.a.createElement(j.a,{style:{marginTop:"50px"}},r.a.createElement(p.a,{variant:"h5",style:{textAlign:"center",padding:"20px"}},"Editar Producto"),r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(function(e){return function(t){return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(re(e)),console.log(e),n.prev=2,n.next=5,V.a.awrap(q.put("/productos/".concat(e.id),e));case 5:t(oe(e)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),console.log(n.t0),t(ce());case 12:case"end":return n.stop()}}),null,null,[[2,8]])}}(c)),e.push("/")},style:{padding:"40px"}},r.a.createElement(Re.a,{style:{marginBottom:"30px"},fullWidth:!0,name:"nombre",label:"Nombre Producto",value:d,onChange:s}),r.a.createElement(Re.a,{style:{marginBottom:"30px"},fullWidth:!0,name:"precio",label:"Precio del Producto",value:m,onChange:s,InputProps:{inputComponent:Ne}}),r.a.createElement(A.a,{display:"flex",justifyContent:"center"},r.a.createElement(_.a,{startIcon:r.a.createElement(Ce.a,null),style:{alignItem:"center"},type:"submit",variant:"contained",color:"secondary"},"Guardar"))))},Se=n(39),ke=n(228),Ue=n(29),Be={productos:[],error:null,loading:!1,productoeliminar:null,productoeditar:null},Ge={alert:null},Le=Object(Se.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AGREGAR_PRODUCTO":case" COMENZAR_DESCARGA_PRODUCTOS":return Object(De.a)({},e,{loading:t.payload});case"AGREGAR_PRODUCTO_EXITO":return Object(De.a)({},e,{loading:!1,productos:[].concat(Object(Ue.a)(e.productos),[t.payload])});case"PRODUCTO_ELIMINAR_ERROR":case" DESCARGA_PRODUCTOS_ERROR":case"AGREGAR_PRODUCTO_ERROR":case"PRODUCTO_EDITADO_ERROR":return Object(De.a)({},e,{loading:!1,error:t.payload});case" DESCARGA_PRODUCTOS_EXITO":return Object(De.a)({},e,{loading:!1,error:null,productos:t.payload});case"OBTENER_PRODUCTO_ELIMINAR":return Object(De.a)({},e,{productoeliminar:t.payload});case"PRODUCTO_ELIMINAR_EXITO":return Object(De.a)({},e,{productos:e.productos.filter((function(t){return t.id!==e.productoeliminar})),productoeliminar:null});case"OBTENER_PRODUCTO_EDITAR":return Object(De.a)({},e,{productoeditar:t.payload});case"PRODUCTO_EDITADO_EXITO":return Object(De.a)({},e,{productoeditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOSTRAR_ALERTA":return Object(De.a)({},e,{alerta:t.payload});case"OCULTAR_ALERTA":return Object(De.a)({},e,{alerta:null});default:return e}}}),We=Object(Se.e)(Le,Object(Se.d)(Object(Se.a)(ke.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),Fe=Object(u.a)((function(e){return{root:{display:"flex"},content:{backgroundColor:e.palette.background.default,padding:e.spacing(3)}}}));var Xe=function(){var e=Fe();return r.a.createElement(a.Fragment,{className:e.root},r.a.createElement(g.a,{theme:R},r.a.createElement(i.a,null,r.a.createElement(M.a,{store:We},r.a.createElement(f,null),r.a.createElement("div",{className:e.content},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:be}),r.a.createElement(l.a,{exact:!0,path:"/productos/nuevo",component:we}),r.a.createElement(l.a,{exact:!0,path:"/productos/editar/:id",component:Ie})))))))},Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Xe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react_reduxcrud",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react_reduxcrud","/service-worker.js");Me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):He(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):He(t,e)}))}}()}},[[240,1,2]]]);
//# sourceMappingURL=main.514b898c.chunk.js.map